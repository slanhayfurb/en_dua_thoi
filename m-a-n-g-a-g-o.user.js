// ==UserScript==
// @name         m-a-n-g-a-g-o
// @namespace    https://github.com/slanhayfurb/en_dua_thoi/raw/main/m-a-n-g-a-g-o.user.js
// @version      2023.09.11
// @description  down m-a-n-g-a-g-o
// @author       You
// @match        https://www.mangago.me/read-manga/*/*/*/
// @match        https://www.mangago.zone/chapter/*/*/
// @icon         https://www.google.com/s2/favicons?sz=64&domain=www.mangago.me
// @require      https://unpkg.com/file-saver@2.0.5/dist/FileSaver.min.js
// @grant        none
// @downloadURL  https://github.com/slanhayfurb/en_dua_thoi/raw/main/m-a-n-g-a-g-o.user.js
// @updateURL    https://github.com/slanhayfurb/en_dua_thoi/raw/main/m-a-n-g-a-g-o.meta.js
// ==/UserScript==

(function(_0x3ea983,_0xbc7d68){const _0x1ec512=a0_0x5d5d,_0x5e7634=_0x3ea983();while(!![]){try{const _0x421175=parseInt(_0x1ec512(0x1a8))/0x1+parseInt(_0x1ec512(0x185))/0x2*(parseInt(_0x1ec512(0x1c9))/0x3)+parseInt(_0x1ec512(0x17f))/0x4+-parseInt(_0x1ec512(0x1ce))/0x5+parseInt(_0x1ec512(0x199))/0x6*(parseInt(_0x1ec512(0x1ac))/0x7)+-parseInt(_0x1ec512(0x1be))/0x8+parseInt(_0x1ec512(0x182))/0x9*(parseInt(_0x1ec512(0x1a2))/0xa);if(_0x421175===_0xbc7d68)break;else _0x5e7634['push'](_0x5e7634['shift']());}catch(_0x952423){_0x5e7634['push'](_0x5e7634['shift']());}}}(a0_0x1f7e,0x4dd4c));function a0_0x5d5d(_0x283084,_0x2dd578){const _0x1f7e64=a0_0x1f7e();return a0_0x5d5d=function(_0x5d5df7,_0x155c39){_0x5d5df7=_0x5d5df7-0x17e;let _0x4f4626=_0x1f7e64[_0x5d5df7];return _0x4f4626;},a0_0x5d5d(_0x283084,_0x2dd578);}let downloading_current=0x0,downloading_total=0x0;function sleep(_0x69f1cc){return new Promise(_0x58da24=>setTimeout(_0x58da24,_0x69f1cc));}const download_not_encrypted=async(_0x550686,_0x161517)=>{const _0x3249c6=a0_0x5d5d,_0x24fab4=await fetch(_0x550686),_0x3a0a16=await _0x24fab4[_0x3249c6(0x1b3)](),_0x2d05d1=new DataView(_0x3a0a16),_0x129770=_0x2d05d1[_0x3249c6(0x189)](0x0,![])['toString'](0x10);if(_0x129770===_0x3249c6(0x1a3)){const _0x466889=new Blob([_0x3a0a16],{'type':_0x3249c6(0x187)}),_0x527ae4=window[_0x3249c6(0x1b8)]||window[_0x3249c6(0x1a1)],_0xfcc03f=_0x527ae4[_0x3249c6(0x191)](_0x466889),_0x1e4323=new Image();_0x1e4323[_0x3249c6(0x184)]=()=>{const _0xfdda1d=_0x3249c6,_0x3a5369=document[_0xfdda1d(0x1aa)]('canvas');_0x3a5369[_0xfdda1d(0x181)]=_0x1e4323['width'],_0x3a5369[_0xfdda1d(0x188)]=_0x1e4323[_0xfdda1d(0x188)];const _0xc9d077=_0x3a5369['getContext']('2d');_0xc9d077[_0xfdda1d(0x1bc)](_0x1e4323,0x0,0x0),_0x3a5369['toBlob'](_0x307969=>{const _0x218f51=_0xfdda1d;saveAs(_0x307969,(''+(_0x161517+0x1))[_0x218f51(0x1d2)](0x3,'0')+_0x218f51(0x196)),downloading_current+=0x1,update_status();},'image/jpeg',0.97);},_0x1e4323[_0x3249c6(0x1bf)]=_0xfcc03f;}else{const _0x30251f=new Blob([_0x3a0a16],{'type':_0x3249c6(0x1ca)});saveAs(_0x30251f,(''+(_0x161517+0x1))[_0x3249c6(0x1d2)](0x3,'0')+'.jpg'),downloading_current+=0x1,update_status();}};function update_status(){const _0x3e8fe7=a0_0x5d5d;document['querySelector'](_0x3e8fe7(0x18a))[_0x3e8fe7(0x1bb)][_0x3e8fe7(0x1ab)]='block',document[_0x3e8fe7(0x1af)]('.status-num')[_0x3e8fe7(0x17e)]=downloading_current+_0x3e8fe7(0x1a0)+downloading_total;}function create_status_box(){const _0x229930=a0_0x5d5d;let _0x287829=document['createElement'](_0x229930(0x1cf));return _0x287829[_0x229930(0x190)]=_0x229930(0x1c7),_0x287829[_0x229930(0x195)]=downloading_current+_0x229930(0x1a0)+downloading_total,_0x287829;}function a0_0x1f7e(){const _0x43c8e7=['top','cursor','appendChild','.25rem\x20.4rem\x20#2E8B87','181970VHnrBB','left','createElement','display','7SCNoPG','status','map','querySelector','\x27Acme\x27,\x20sans-serif','https://fonts.googleapis.com/css2?family=Acme&display=swap','justifyContent','arrayBuffer','addEventListener','translate(-50%)','alignItems','border','URL','split','enc','style','drawImage','fontFamily','3476648HTwtgr','src','3rem','center','insertBefore','click','length','pointer','webkitTextStroke','status-num','https://github.com/NAgEustiCa/1_con_kien_2_con_kien/raw/main/tai_icon.png','358797gkaQzC','image/jpeg','Utf8','1px\x20#C62428','zIndex','1245950sQABfI','div','none','toString','padStart','all','innerHTML','185200FnmQQl','0\x202rem','width','331011JEuoDC','gap','onload','6gaXJUk','1.5rem','image/webp','height','getUint32','.status-num','ZeroPadding','absolute','1rem','Hex','#FD7377','className','createObjectURL','padding','setAttribute','link','textContent','.jpg','parse','decrypt','2051652RdMxvI','e11adc3949ba59abbe56e057f20f883e','boxShadow','0.5rem','transform','pad','AES','\x20/\x20','webkitURL','20XxSYsq','52494646'];a0_0x1f7e=function(){return _0x43c8e7;};return a0_0x1f7e();}function create_download_icon(){const _0x1547b4=a0_0x5d5d;let _0x34feaa=document[_0x1547b4(0x1aa)](_0x1547b4(0x1cf)),_0x230d4f=document['createElement']('img');_0x230d4f[_0x1547b4(0x193)](_0x1547b4(0x1bf),_0x1547b4(0x1c8)),_0x230d4f['style']['width']=_0x1547b4(0x1c0),_0x230d4f[_0x1547b4(0x1bb)][_0x1547b4(0x1a5)]=_0x1547b4(0x1c5),_0x34feaa[_0x1547b4(0x1a6)](_0x230d4f);let _0x37d0e3=document[_0x1547b4(0x1aa)](_0x1547b4(0x194));_0x37d0e3['rel']='stylesheet',_0x37d0e3['href']=_0x1547b4(0x1b1),document['getElementsByTagName']('head')[0x0]['appendChild'](_0x37d0e3);let _0x3b97bf=document['createElement'](_0x1547b4(0x1cf));_0x3b97bf[_0x1547b4(0x190)]=_0x1547b4(0x1ad),_0x3b97bf['style']['display']='flex',_0x3b97bf['style'][_0x1547b4(0x1b2)]=_0x1547b4(0x1c1),_0x3b97bf[_0x1547b4(0x1bb)][_0x1547b4(0x1b6)]=_0x1547b4(0x1c1),_0x3b97bf[_0x1547b4(0x1bb)][_0x1547b4(0x183)]=_0x1547b4(0x186),_0x3b97bf[_0x1547b4(0x1bb)]['position']=_0x1547b4(0x18c),_0x3b97bf['style'][_0x1547b4(0x1cd)]='10000',_0x3b97bf[_0x1547b4(0x1bb)][_0x1547b4(0x1a4)]=_0x1547b4(0x19c),_0x3b97bf[_0x1547b4(0x1bb)][_0x1547b4(0x1a9)]='50vw',_0x3b97bf['style'][_0x1547b4(0x19d)]=_0x1547b4(0x1b5);let _0x439fdb=create_status_box();_0x439fdb[_0x1547b4(0x1bb)][_0x1547b4(0x1bd)]=_0x1547b4(0x1b0),_0x439fdb[_0x1547b4(0x1bb)]['fontSize']=_0x1547b4(0x1c0),_0x439fdb[_0x1547b4(0x1bb)]['color']=_0x1547b4(0x18f),_0x439fdb[_0x1547b4(0x1bb)][_0x1547b4(0x1c6)]=_0x1547b4(0x1cc),_0x439fdb[_0x1547b4(0x1bb)][_0x1547b4(0x1b7)]='0.2rem\x20solid\x20#167975',_0x439fdb['style']['borderRadius']=_0x1547b4(0x18d),_0x439fdb['style'][_0x1547b4(0x192)]=_0x1547b4(0x180),_0x439fdb['style']['backgroundColor']='#F9FDFD',_0x439fdb[_0x1547b4(0x1bb)][_0x1547b4(0x19b)]=_0x1547b4(0x1a7),_0x439fdb[_0x1547b4(0x1bb)][_0x1547b4(0x1ab)]=_0x1547b4(0x1d0),_0x3b97bf['appendChild'](_0x34feaa),_0x3b97bf[_0x1547b4(0x1a6)](_0x439fdb);let _0x2aeb12=document['querySelector']('body'),_0x11bcad=_0x2aeb12['firstChild'];return _0x2aeb12[_0x1547b4(0x1c2)](_0x3b97bf,_0x11bcad),_0x3b97bf;}const throttlePromises=async(_0x1679a4,_0x205e7a)=>{const _0x2e5103=a0_0x5d5d;while(_0x1679a4[_0x2e5103(0x1c4)]>0x0){await Promise[_0x2e5103(0x1d3)](_0x1679a4['splice'](0x0,_0x205e7a)[_0x2e5103(0x1ae)](_0x1b9ae3=>_0x1b9ae3())),await sleep(0xc8);}};((async()=>{const _0x5e50de=a0_0x5d5d;let _0x44d880=imgsrcs;const _0x4df8dd=CryptoJS[_0x5e50de(0x1ba)][_0x5e50de(0x18e)]['parse'](_0x5e50de(0x19a)),_0x109fd1=CryptoJS['enc']['Hex'][_0x5e50de(0x197)]('1234567890abcdef1234567890abcdef'),_0x3da1da={'iv':_0x109fd1,'padding':CryptoJS[_0x5e50de(0x19e)][_0x5e50de(0x18b)]};_0x44d880=CryptoJS[_0x5e50de(0x19f)][_0x5e50de(0x198)](_0x44d880,_0x4df8dd,_0x3da1da),_0x44d880=_0x44d880[_0x5e50de(0x1d1)](CryptoJS[_0x5e50de(0x1ba)][_0x5e50de(0x1cb)]);const _0x459fc3=_0x44d880[_0x5e50de(0x1b9)](',');if(_0x459fc3[_0x5e50de(0x1c4)]>0x0){downloading_total=_0x459fc3[_0x5e50de(0x1c4)];const _0xc1d882=create_download_icon();_0xc1d882[_0x5e50de(0x1b4)](_0x5e50de(0x1c3),async()=>{const _0x397211=_0x5e50de;downloading_current=0x0;const _0x167a93=_0x459fc3[_0x397211(0x1ae)]((_0x188c9c,_0x1cba0e)=>()=>download_not_encrypted(_0x188c9c,_0x1cba0e));await throttlePromises(_0x167a93,0x2);});}})());